#!/bin/sh

msg=`cat $1`

if [[ $msg =~ ^(:.+: )?([a-z,-AZ])+(\(.+\)):.+$ ]]
then
    msg=`echo "$msg" | sed -E 's/(^tada\()/ğŸ‰ tada(/'`
    msg=`echo "$msg" | sed -E 's/(^revert\()/â³ revert(/'`
    msg=`echo "$msg" | sed -E 's/(^build\()/ğŸ“¦ build(/'`
    msg=`echo "$msg" | sed -E 's/(^ci\()/ğŸ¤– ci(/'`
    msg=`echo "$msg" | sed -E 's/(^docs\()/ğŸ“ docs(/'`
    msg=`echo "$msg" | sed -E 's/(^feat\()/âœ¨ feat(/'`
    msg=`echo "$msg" | sed -E 's/(^fix\()/ğŸ› fix(/'`
    msg=`echo "$msg" | sed -E 's/(^perf\()/âš¡ perf(/'`
    msg=`echo "$msg" | sed -E 's/(^refactor\()/ğŸš§ refactor(/'`
    msg=`echo "$msg" | sed -E 's/(^style\()/ğŸ¨ style(/'`
    msg=`echo "$msg" | sed -E 's/(^test\()/âœ… test(/'`
    msg=`echo "$msg" | sed -E 's/(^chore\()/ğŸ”§ chore(/'`
else
    printf '\nâš ï¸ The commit message should be structured as follows: <type>(<scope>): <subject>\n\n'
    msg=`echo  ğŸ”¥ "$msg"`
fi

echo "$msg" > $1
